from django.core.management.base import BaseCommand
from django.db import transaction
from django.apps import apps


class Command(BaseCommand):
    help = "Seed the database with initial Categories, Rarities, Biomes, Reagents, and PotionEffects."

    def add_arguments(self, parser):
        parser.add_argument(
            "--flush",
            action="store_true",
            help="Delete existing seeded data before seeding (DEV ONLY).",
        )

    @transaction.atomic
    def handle(self, *args, **options):
        Category = apps.get_model("reagent", "Category")
        Rarity = apps.get_model("reagent", "Rarity")
        Reagent = apps.get_model("reagent", "Reagent")
        Biome = apps.get_model("reagent", "Biome")
        PotionEffect = apps.get_model("reagent", "PotionEffect")

        if options["flush"]:
            self.stdout.write(self.style.WARNING("⚠️  Flushing tables..."))
            PotionEffect.objects.all().delete()
            Biome.objects.all().delete()
            Reagent.objects.all().delete()
            Category.objects.all().delete()
            Rarity.objects.all().delete()


        # This short list contains all the reagent categories, and sets whether each one has a default hard-coded cluster dice or not.

        category_seed = [
            {"name": "Plant", "uses_cluster_dice": True},
            {"name": "Animal", "uses_cluster_dice": True},
            {"name": "Mineral", "uses_cluster_dice": True},
            {"name": "Carve", "uses_cluster_dice": False},
            {"name": "Other", "uses_cluster_dice": True},
        ]

        categories_by_name = {}
        for c in category_seed:
            obj, created = Category.objects.update_or_create(
                name=c["name"],
                defaults={"uses_cluster_dice": c["uses_cluster_dice"]},
            )
            categories_by_name[obj.name] = obj
            self.stdout.write(f"{'➕' if created else '✔️'} Category: {obj.name}")

        # This list just separates out the strings representing rarities so that they are more modular and can easily be put into drop-down menus among other things. Also helps with validation.
        rarity_seed = [
            {"name": "Common"},
            {"name": "Uncommon"},
            {"name": "Rare"}
        ]

        rarities_by_name = {}
        for r in rarity_seed:
            obj, created = Rarity.objects.update_or_create(name=r["name"], defaults={})
            rarities_by_name[obj.name] = obj
            self.stdout.write(f"{'➕' if created else '✔️'} Rarity: {obj.name}")

        # This list contains the hard-coded information of every single reagent in the app.  Note that "Carve" type reagents do not have a search_dc or a cluster.
        # Whenever you want to add a new Reagent, follow these steps:
        # - Add the reagent's info to this list
        # - Decide which biomes it will appear in, and add the reagents name to the lists associated with those biomes in the biomes section.
        # - Decide which 4 potion effects it is associated with, and add the reagent's name to the lists associated with those potion effects in the potion effects section.
        # - Run    "python manage.py seed"  in the terminal (you don't need to do this after every reagent, just once after you're all done.)
        # When adding a new reagent, it must satisfy the clean() method validation by meeting these requirements: 
        # - fill out ALL MANDATORY fields: name, upv (1~9), rpv (2~10), refine_dc, category, poisonous.  "Cluster" is a tuple representing a dice roll, i.e., (1, 6) = 1d6, and usually mandatory as well unless the category is "Carve".  Descriptions are not mandatory, but recommended.
        # - rpv must be greater than upv
        # - if category.uses_cluster_dice is True (that is to say its "category" is anything other than "Carve") then cluster dice is required.
        reagent_seed = [
            {
                "name": "Aberrant Plant Seeds",
                "upv": 2,
                "rpv": 5,
                "refine_dc": 23,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 10),
                "poisonous": False,
                "description": "An odd shrub whose leaves, trunk and color vary greatly, creating a mutated mish-mash of vegitation.",
            },
            {
                "name": "Ace Cloves",
                "upv": 3,
                "rpv": 7,
                "refine_dc": 30,
                "search_dc": 21,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "A 1 foot tall sprout with brown tabacco-like leaves. Bulbous spade-shaped protrusions stick out from the center.",
            },
            {
                "name": "Adder Venom",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 14,
                "search_dc": 18,
                "category": "Other",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": True,
                "description": "A pale to milky-white snake about 2 feet in length with a pinkish underbelly.",
            },
            {
                "name": "Aegis Pebbles",
                "upv": 5,
                "rpv": 9,
                "refine_dc": 37,
                "search_dc": 14,
                "category": "Mineral",
                "rarity": "Rare",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Nearly spherical translucent blue stones which have a silver star-shaped metal bit in their center. Imagery reminiscent of the Astral Plane.",
            },
            {
                "name": "Ajax's Passion",
                "upv": 1,
                "rpv": 6,
                "refine_dc": 28,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Large 5-petaled flower, 7~8 inches in diameter with a violet center. Black spots towards the edges.",
            },
            {
                "name": "Angel Feathers",
                "upv": 7,
                "rpv": 10,
                "refine_dc": 40,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "These are the long, pristine pinfeathers from the wings of a genuine celestial angel.",
            },
            {
                "name": "Angelhair Grass",
                "upv": 4,
                "rpv": 5,
                "refine_dc": 25,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "Knee-high golden-yellow grass with very smooth edges. Feels soft to the touch and smells slightly lemony.",
            },
            {
                "name": "Apple Crow Feathers",
                "upv": 1,
                "rpv": 3,
                "refine_dc": 17,
                "search_dc": 18,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A red-eyed bird, slightly smaller than a common crow. 4~5 inch long feathers which are black at the root and gradually turn dark red at the tip.",
            },
            {
                "name": "Aquatic Finch Eggs",
                "upv": 1,
                "rpv": 4,
                "refine_dc": 21,
                "search_dc": 27,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Dark gray eggs with an uneven shape. Similar to river stones in appearance.",
            },
            {
                "name": "Archane Bladder",
                "upv": 2,
                "rpv": 4,
                "refine_dc": 22,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "A bluish-purple fleshy sack within most magical creatures that produces an oily substance with properties similar to residuum.",
            },
            {
                "name": "Archane Salt",
                "upv": 4,
                "rpv": 7,
                "refine_dc": 29,
                "search_dc": 23,
                "category": "Mineral",
                "rarity": "Uncommon",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "A mix of pink and light blue sand which begins to glow teal in the proximity of magic items or spells.",
            },
            {
                "name": "Archon Blood",
                "upv": 3,
                "rpv": 8,
                "refine_dc": 33,
                "category": "Carve",
                "rarity": "Uncommon",
                "poisonous": False,
                "description": "A highly unstable shimmering liquid found flowing through the bodies of archons. Can quickly and randomly change in density and viscosity.",
            },
            {
                "name": "Astrid's Plume",
                "upv": 2,
                "rpv": 3,
                "refine_dc": 19,
                "search_dc": 10,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Long red-orange tubular flower with leathery petals and a feather-like stamen which sticks out twice the length of the flower.",
            },
            {
                "name": "Astral Calcium",
                "upv": 2,
                "rpv": 5,
                "refine_dc": 23,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "A bluish-silver dust that can be scraped from the remains of a slain immortal being.",
            },
            {
                "name": "Azer Scalp",
                "upv": 4,
                "rpv": 5,
                "refine_dc": 24,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "The red-orange hair of an Azer continues to glow and produce heat long after its death.",
            },
            {
                "name": "Bandersnatch",
                "upv": 3,
                "rpv": 8,
                "refine_dc": 33,
                "search_dc": 21,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Clusters of small circular leaves in bundles of 30~40 terminate the ends of these long, stiff, stalky plants. Smells very woodsy, like cedar.",
            },
            {
                "name": "Basilisk Tail",
                "upv": 4,
                "rpv": 9,
                "refine_dc": 37,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "The muscular tissue of the basilisk's tail is unnaturally hard when compared to the rest of the beast.",
            },
            {
                "name": "Baxonium",
                "upv": 5,
                "rpv": 7,
                "refine_dc": 29,
                "search_dc": 27,
                "category": "Mineral",
                "rarity": "Uncommon",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Whitish pearly metal which reflects light in rainbow colors similar to the inside of an oyster shell.",
            },
            {
                "name": "Bear Bug",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 15,
                "search_dc": 30,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Resembles a stout, brown, hair-covered variant of the praying mantis with a smaller throax. Unable to fly.",
            },
            {
                "name": "Beholder Eye Gel",
                "upv": 7,
                "rpv": 10,
                "refine_dc": 40,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "The gelatinous substance that fills the central eye of a beholder is highly reflective, akin to liquid mercury.",
            },
            {
                "name": "Belfry Flowers",
                "upv": 2,
                "rpv": 3,
                "refine_dc": 17,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Small cone-shaped white flowers of 6~8 petals which hang up-side-down. Grows from a vine.",
            },
            {
                "name": "Biting Lanternfish",
                "upv": 6,
                "rpv": 7,
                "refine_dc": 30,
                "search_dc": 18,
                "category": "Animal",
                "rarity": "Uncommon",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A thinner, smaller, and more elongated cousin of the deepsea lanternfish. Known to bite mammals which crossing rivers and streams to feed on blood. Two lanterns trail behind it from long whiskers.",
            },
            {
                "name": "Black Butterfin",
                "upv": 1,
                "rpv": 3,
                "refine_dc": 19,
                "search_dc": 23,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Small black minnow that smells like spoiled milk when removed from the water. Usually found in small schools.",
            },
            {
                "name": "Blood Ash Bark",
                "upv": 1,
                "rpv": 5,
                "refine_dc": 23,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "Tree which resembles a birch tree at first, but has thicker bark and leaves like that of an ash tree. Bark is white, revealing dark red-brown wood beneath where it falls off.",
            },
            {
                "name": "Blood Moss",
                "upv": 2,
                "rpv": 7,
                "refine_dc": 30,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Grows where battles have taken place or lots of blood has been spilled. Deep red color and soft to the touch.",
            },
            {
                "name": "Blubber Bass",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 16,
                "search_dc": 21,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "A fish with dark gray skin similar to a walrus. Its head is very puffy and swollen, with deeply sunken black eyes.",
            },
            {
                "name": "Blue-Backed Mole",
                "upv": 1,
                "rpv": 4,
                "refine_dc": 20,
                "search_dc": 23,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A mole with black fur and a noticeable blue patch on its back. It is 4~6 inches long.",
            },
            {
                "name": "Blue Frilled Lizard",
                "upv": 2,
                "rpv": 3,
                "refine_dc": 18,
                "search_dc": 21,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A small lizard with a tan body and a neck frill that is bright blue when opened. It is about 8~10 inches long.",
            },
            {
                "name": "Bonetail Mouse",
                "upv": 1,
                "rpv": 4,
                "refine_dc": 22,
                "search_dc": 23,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A brown mouse with a hard, clubbed tail which it holds up constantly like a scorpion.",
            },
            {
                "name": "Boney Chrysanthemum",
                "upv": 5,
                "rpv": 9,
                "refine_dc": 35,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Rare",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Violet flowers that have a single boney spike protruting from the tip of each petal. Painful to touch, like a cactus.",
            },
            {
                "name": "Cadberries",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 15,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 10),
                "poisonous": False,
                "description": "Small, segmented pink berries with tiny black seeds around its surface that grow in large clusters. Attracts various animals.",
            },
            {
                "name": "Carbuncle Ore",
                "upv": 6,
                "rpv": 10,
                "refine_dc": 40,
                "search_dc": 10,
                "category": "Mineral",
                "rarity": "Rare",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Pale bluish-teal metal, flexible and highly reactive to heat. Often makes a sound like a wobbling saw-blade when its shape warps due to temperature change.",
            },
            {
                "name": "Callowale",
                "upv": 2,
                "rpv": 5,
                "refine_dc": 23,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "A tall aquatic reed which opens up into clusters of 5~6 curved branches in a perpendicular fan shape. Produces cottony seeds that blow away in the wind.",
            },
            {
                "name": "Cellulose Plasma",
                "upv": 3,
                "rpv": 5,
                "refine_dc": 24,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "The pulsating and wriggling core of a defeated ooze monster. Though no longer sentient or dangerous, the core of an ooze continues to undulate long after death.",
            },
            {
                "name": "Celophactum",
                "upv": 4,
                "rpv": 9,
                "refine_dc": 37,
                "search_dc": 18,
                "category": "Other",
                "rarity": "Rare",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "A mold-like slimy blue-green substance found floating on top of stagnant water. Smells faintly of foul sewage.",
            },
            {
                "name": "Chimera Spinal Cord",
                "upv": 6,
                "rpv": 10,
                "refine_dc": 38,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "The section of a chimera's spinal cord where the backbone splits into three separate necks.",
            },
            {
                "name": "Chitinous Scales",
                "upv": 2,
                "rpv": 7,
                "refine_dc": 30,
                "category": "Carve",
                "rarity": "Uncommon",
                "poisonous": False,
                "description": "Smaller, newly emerging dragon scales that have not yet matured into their fully hardened armor-like state.",
            },
            {
                "name": "Chlorocondria",
                "upv": 4,
                "rpv": 5,
                "refine_dc": 25,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "A viscous, dark green substance found in sentient plant creatures that aids in movement and propulsion.",
            },
            {
                "name": "Chunky Volcanic Tar",
                "upv": 1,
                "rpv": 4,
                "refine_dc": 20,
                "search_dc": 10,
                "category": "Other",
                "rarity": "Common",
                "cluster": (1, 10),
                "poisonous": False,
                "description": "A living, carnivorous, black tar-like mineral. Chunks of bone and meat from other animals are partially digested within it.",
            },
            {
                "name": "Couatl Scales",
                "upv": 7,
                "rpv": 10,
                "refine_dc": 39,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "Highly reflective couatl scales are very soft and pliable, and range from silver to deep blue and emerald green.",
            },
            {
                "name": "Cow Piss Berries",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 16,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 10),
                "poisonous": False,
                "description": "Yellow berries with vivid green spots that grow on small bushes. Smells like pungent ammonia when crushed.",
            },
            {
                "name": "Crawling Vera Fungus",
                "upv": 2,
                "rpv": 9,
                "refine_dc": 35,
                "search_dc": 21,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "A slick, bumpy, yellow sponge-like mold. Newly formed areas are yellow-green while older parts are mustard yellow.",
            },
            {
                "name": "Creeping King",
                "upv": 3,
                "rpv": 8,
                "refine_dc": 33,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "A tree-climbing vine with leaves that alternate between solid green and a bizzare speckled black and white pattern.",
            },
            {
                "name": "Cross-Eyed Toad",
                "upv": 3,
                "rpv": 5,
                "refine_dc": 25,
                "search_dc": 27,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A dark green and brown toad with protruding conical eyes which look in opposite directions like a chameleon's.",
            },
            {
                "name": "Cyclops Iris",
                "upv": 1,
                "rpv": 9,
                "refine_dc": 35,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": True,
                "description": "The eye of a cyclops is invariably dark gray with a dull red slitted iris and pupil.",
            },
            {
                "name": "Castro Crab",
                "upv": 2,
                "rpv": 4,
                "refine_dc": 21,
                "search_dc": 20,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "A dark gray crab with a shell that has a concave top to collect rain water. It uses this as bait to attract birds.",
            },
            {
                "name": "Dagger Viper Venom",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 15,
                "search_dc": 21,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": True,
                "description": "A small snake with alternating bands of black, brown and tan. Fangs are flat and wide like daggers. 12~16 inches long.",
            },
            {
                "name": "Dark Fennel Seeds",
                "upv": 3,
                "rpv": 9,
                "refine_dc": 37,
                "search_dc": 23,
                "category": "Other",
                "rarity": "Rare",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Hard, silvery-black teardrop-shaped seeds that resemble hematite. Hard to tell if it is a rock or a plant.",
            },
            {
                "name": "Dark Fibrous Tissue",
                "upv": 4,
                "rpv": 5,
                "refine_dc": 23,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "Some organs and tissues from denizens native to the Shadowfell have cold, dark webs of veins running through them that are not found elsewhere.",
            },
            {
                "name": "Decay Residue",
                "upv": 1,
                "rpv": 3,
                "refine_dc": 18,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "A chalky, gray powder often accumulates on the surface of undead creatures. It is cold to the touch, like frost.",
            },
            {
                "name": "Demon Musk",
                "upv": 3,
                "rpv": 6,
                "refine_dc": 28,
                "category": "Carve",
                "rarity": "Uncommon",
                "poisonous": False,
                "description": "A noxious watery red fluid extracted from scent glands within a demon. Smells strongly of sulfur and bile.",
            },
            {
                "name": "Dead Man's Dandelion",
                "upv": 2,
                "rpv": 4,
                "refine_dc": 20,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A small yellow wildflower resembling a dandelion with a ring of red petals in its center.",
            },
            {
                "name": "Diddlepus Eggs",
                "upv": 2,
                "rpv": 3,
                "refine_dc": 18,
                "search_dc": 23,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "Light blue-green eggs about the size of a chicken egg, but soft and rubbery rather than hard. Found in shallow water.",
            },
            {
                "name": "Displacer Beast Hooks",
                "upv": 6,
                "rpv": 8,
                "refine_dc": 34,
                "category": "Carve",
                "rarity": "Uncommon",
                "poisonous": False,
                "description": "A collection of small black hooks and barbs plucked from the ends of a displacer beast's tentacles.",
            },
            {
                "name": "Djinn Dust",
                "upv": 4,
                "rpv": 5,
                "refine_dc": 23,
                "category": "Carve",
                "rarity": "Common",
                "poisonous": False,
                "description": "Particles of sand, dust and debris that become swept up in a djinn's whirlwind often absorb some of the djinn's innate magical essence.",
            },
            {
                "name": "Dollhouse Lizard",
                "upv": 1,
                "rpv": 4,
                "refine_dc": 21,
                "search_dc": 27,
                "category": "Animal",
                "rarity": "Common",
                "cluster": (1, 4),
                "poisonous": False,
                "description": "A small light green lizard that makes a tweeting growl noise when threatened. Often walks on its hind legs. Has black bands around its tail.",
            },
            {
                "name": "Dolphin Kelp",
                "upv": 2,
                "rpv": 7,
                "refine_dc": 31,
                "search_dc": 14,
                "category": "Plant",
                "rarity": "Uncommon",
                "cluster": (1, 8),
                "poisonous": False,
                "description": "Deep ocean kelp that grows to lengths of 30 feet or more.  Often attracts dolphins.",
            },
            {
                "name": "Dragonbloom",
                "upv": 1,
                "rpv": 2,
                "refine_dc": 17,
                "search_dc": 18,
                "category": "Plant",
                "rarity": "Common",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "Very small, resilient shrub with a woody stem, hard spiny leaves and light blue berries.  Leaves are fan-shaped and found in clusters of 5.",
            },
            {
                "name": "Drake Liver",
                "upv": 6,
                "rpv": 8,
                "refine_dc": 33,
                "category": "Carve",
                "rarity": "Uncommon",
                "poisonous": False,
                "description": "Drake livers naturally process a great number of alchemical items that the beast digests into something unique.",
            },
            {
                "name": "Dryad Fingers",
                "upv": 8,
                "rpv": 9,
                "refine_dc": 37,
                "category": "Carve",
                "rarity": "Rare",
                "poisonous": False,
                "description": "The fingers of a dryad are a perfect blend of flora and fauna, having joints like a living creature but wood instead of soft tissue.",
            },
            {
                "name": "Dwarven Castinite",
                "upv": 3,
                "rpv": 4,
                "refine_dc": 20,
                "search_dc": 21,
                "category": "Mineral",
                "rarity": "Common",
                "cluster": (1, 6),
                "poisonous": False,
                "description": "A chalky, dull yellow-orange mineral found in clumps and nuggets inside of caves. Brittle to the touch.",
            },
        ]

        reagents_by_name = {}
        for r in reagent_seed:
            cat = categories_by_name[r["category"]]
            rar = rarities_by_name[r["rarity"]]
            # The following logic is for handling seeds that come from monster carves and have no cluster dice.
            if cat.uses_cluster_dice:
                # For foraging categories, cluster is required, so throw an error if it's missing.
                if "cluster" not in r or r["cluster"] is None:
                    raise ValueError(f"Reagent '{r['name']}' is missing required 'cluster' dice for category '{cat.name}'.")
                dice_count, dice_sides = r["cluster"]
            else:
                # For carve categories, cluster must be omitted/None
                dice_count, dice_sides = None, None

            reagent, created = Reagent.objects.update_or_create(
                name=r["name"],
                defaults={
                    "upv": r["upv"],
                    "rpv": r["rpv"],
                    "description": r.get("description", ""),
                    "search_dc": r.get("search_dc"),
                    "refine_dc": r["refine_dc"],
                    "category": cat,
                    "rarity": rar,
                    "cluster_dice_count": dice_count,
                    "cluster_dice_sides": dice_sides,
                    "poisonous": r.get("poisonous", False),
                },
            )

            reagent.full_clean()
            reagent.save()

            reagents_by_name[reagent.name] = reagent
            self.stdout.write(f"{'➕' if created else '✔️'} Reagent: {reagent.name}")


        # This dictionary is a comprehensive list of every reagent that can appear in each biome
        biome_seed = {
            "Desert": ["Ace Cloves", 
                       "Blue Frilled Lizard",
                       "Castro Crab",
                       "Dollhouse Lizard",
                       "Dragonbloom"
                       ],
            "Forest": ["Aberrant Plant Seeds", 
                       "Adder Venom", 
                       "Ajax's Passion", 
                       "Angelhair Grass", 
                       "Apple Crow Feathers", 
                       "Astrid's Plume", 
                       "Bandersnatch",
                       "Bear Bug", 
                       "Blood Ash Bark", 
                       "Blood Moss", 
                       "Boney Chrysanthemum",
                       "Cadberries",
                       "Crawling Vera Fungus",
                       "Creeping King",
                       "Dagger Viper Venom",
                       "Dollhouse Lizard",
                       "Dragonbloom"
                       ],
            "Jungle": ["Aberrant Plant Seeds", 
                       "Adder Venom", 
                       "Aegis Pebbles", 
                       "Astrid's Plume",
                       "Bear Bug", 
                       "Blood Moss", 
                       "Blue Frilled Lizard",
                       "Crawling Vera Fungus",
                       "Castro Crab",
                       "Dragonbloom"
                       ],
            "Freshwater": ["Adder Venom", 
                           "Angelhair Grass", 
                           "Aquatic Finch Eggs", 
                           "Archane Salt", 
                           "Belfry Flowers", 
                           "Biting Lanternfish", 
                           "Black Butterfin",
                           "Callowale",
                           "Celophactum",
                           "Cross-Eyed Toad",
                           "Diddlepus Eggs"
                           ],
            "Mountain": ["Angelhair Grass", 
                         "Baxonium", 
                         "Blue-Backed Mole",
                         "Carbuncle Ore",
                         "Dead Man's Dandelion",
                         "Dwarven Castinite"
                         ],
            "Ocean": ["Aquatic Finch Eggs", 
                      "Archane Salt", 
                      "Blubber Bass",
                      "Castro Crab",
                      "Dolphin Kelp"
                      ],
            "Plains": ["Aberrant Plant Seeds", 
                       "Ace Cloves", 
                       "Adder Venom", 
                       "Apple Crow Feathers", 
                       "Bandersnatch", 
                       "Blue-Backed Mole", 
                       "Bonetail Mouse",
                       "Cow Piss Berries",
                       "Dagger Viper Venom",
                       "Dead Man's Dandelion",
                       "Dragonbloom"
                       ],
            "Swamp": ["Aberrant Plant Seeds", 
                      "Adder Venom", 
                      "Aquatic Finch Eggs", 
                      "Bandersnatch", 
                      "Belfry Flowers", 
                      "Blood Ash Bark", 
                      "Blood Moss",
                      "Callowale",
                      "Celophactum",
                      "Cow Piss Berries",
                      "Crawling Vera Fungus",
                      "Cross-Eyed Toad",
                      "Dark Fennel Seeds",
                      "Dead Man's Dandelion",
                      "Diddlepus Eggs"
                      ],
            "Tundra": ["Angelhair Grass", 
                       "Bandersnatch",
                       "Bear Bug", 
                       "Blood Ash Bark", 
                       "Blue-Backed Mole", 
                       "Bonetail Mouse",
                       "Cadberries",
                       "Dragonbloom"
                       ],
            "Underground": ["Aegis Pebbles", 
                            "Archane Salt", 
                            "Baxonium",
                            "Carbuncle Ore",
                            "Crawling Vera Fungus",
                            "Cross-Eyed Toad",
                            "Dwarven Castinite"
                            ],
            "Urban": ["Bear Bug", 
                      "Belfry Flowers", 
                      "Bonetail Mouse",
                      "Cadberries",
                      "Cow Piss Berries",
                      "Dagger Viper Venom"
                      ],
            "Volcanic": ["Aegis Pebbles", 
                         "Archane Salt", 
                         "Astrid's Plume", 
                         "Baxonium", 
                         "Blood Ash Bark", 
                         "Blood Moss", 
                         "Boney Chrysanthemum",
                         "Carbuncle Ore",
                         "Chunky Volcanic Tar",
                         "Dark Fennel Seeds",
                         "Dragonbloom"
                         ]
        }

        for biome_name, reagent_names in biome_seed.items():
            biome, created = Biome.objects.update_or_create(name=biome_name, defaults={})

            missing = [n for n in reagent_names if n not in reagents_by_name]
            if missing:
                raise ValueError(f"Biome '{biome_name}' references missing reagents: {missing}")

            biome.reagents.set([reagents_by_name[n] for n in reagent_names])

            self.stdout.write(f"{'➕' if created else '✔️'} Biome: {biome.name}")

        # -------------------------
        # 3) Potion Effects
        # -------------------------
        effects_seed = [
            {
                "name": "Healing",
                "lvls": {
                    1: "Spend a healing surge and gain 5 HP.",
                    2: "Spend a healing surge and gain 10 HP.",
                    3: "Spend a healing surge and gain 15 HP.",
                    4: "Spend a healing surge and gain that amount or 20 hp, whichever is higher.",
                    5: "Spend a healing surge and gain that amount or 25 hp, whichever is higher.",
                    6: "Spend a healing surge and gain that amount or 30 hp, whichever is higher.",
                    7: "Gain HP as if you had spent a healing surge.",
                    8: "Gain HP as if you had spent 2 healing surges.",
                    9: "Heal up to your max HP. No surge required.",
                    10: "Permanently increase your max HP by 5, then heal up to your new max HP.",
                },
                "reagents": ["Adder Venom", "Angel Feathers", "Angelhair Grass", "Belfry Flowers", "Dryad Fingers"],
            },
            {
                "name": "Defense Boost",
                "lvls": {
                    1: "Gain a +1 potion bonus to all defenses until the end of your next turn.",
                    2: "Gain a +1 potion bonus to all defenses until the end of the encounter.",
                    3: "Gain a +2 potion bonus to all defenses until the end of your next turn.",
                    4: "Gain a +2 potion bonus to all defenses until the end of the encounter.",
                    5: "Gain a +3 potion bonus to all defenses until the end of your next turn.",
                    6: "Gain a +3 potion bonus to all defenses until the end of the encounter.",
                    7: "Gain a +4 potion bonus to all defenses until the end of your next turn.",
                    8: "Gain a +4 potion bonus to all defenses until the end of the encounter.",
                    9: "Gain a +5 potion bonus to all defenses until the end of your next turn.",
                    10: "Gain a +5 potion bonus to all defenses until the end of the encounter. Gain a permanent +1 bonus to a defense of your choice.",
                },
                "reagents": ["Chitinous Scales", "Couatl Scales", "Cow Piss Berries", "Creeping King", "Castro Crab"],
            },
            {
                "name": "AC Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus to AC until the end of your next turn.",
                    2: "Gain a +4 potion bonus to AC until the end of your next turn.",
                    3: "Gain a +6 potion bonus to AC until the end of your next turn.",
                    4: "Gain a +4 potion bonus to AC until the end of the encounter.",
                    5: "Gain a +6 potion bonus to AC until the end of the encounter.",
                    6: "Gain a +8 potion bonus to AC until the end of the encounter.",
                    7: "Gain a +6 potion bonus to AC for 1 hour.",
                    8: "Gain a +8 potion bonus to AC for 1 hour.",
                    9: "Gain a +10 potion bonus to AC for 1 hour.",
                    10: "Gain a +10 potion bonus to AC for 1 day. Gain a permanent +2 bonus to AC.",
                },
                "reagents": ["Angel Feathers", "Astral Calcium", "Baxonium", "Dwarven Castinite"],
            },
            {
                "name": "Will Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus to Will until the end of your next turn.",
                    2: "Gain a +4 potion bonus to Will until the end of your next turn.",
                    3: "Gain a +6 potion bonus to Will until the end of your next turn.",
                    4: "Gain a +4 potion bonus to Will until the end of the encounter.",
                    5: "Gain a +6 potion bonus to Will until the end of the encounter.",
                    6: "Gain a +8 potion bonus to Will until the end of the encounter.",
                    7: "Gain a +6 potion bonus to Will for 1 hour.",
                    8: "Gain a +8 potion bonus to Will for 1 hour.",
                    9: "Gain a +10 potion bonus to Will for 1 hour.",
                    10: "Gain a +10 potion bonus to Will for 1 day. Gain a permanent +2 bonus to Will.",
                },
                "reagents": ["Couatl Scales", "Djinn Dust", "Dryad Fingers"],
            },
            {
                "name": "Fortitude Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus to Fortitude until the end of your next turn.",
                    2: "Gain a +4 potion bonus to Fortitude until the end of your next turn.",
                    3: "Gain a +6 potion bonus to Fortitude until the end of your next turn.",
                    4: "Gain a +4 potion bonus to Fortitude until the end of the encounter.",
                    5: "Gain a +6 potion bonus to Fortitude until the end of the encounter.",
                    6: "Gain a +8 potion bonus to Fortitude until the end of the encounter.",
                    7: "Gain a +6 potion bonus to Fortitude for 1 hour.",
                    8: "Gain a +8 potion bonus to Fortitude for 1 hour.",
                    9: "Gain a +10 potion bonus to Fortitude for 1 hour.",
                    10: "Gain a +10 potion bonus to Fortitude for 1 day. Gain a permanent +2 bonus to Fortitude.",
                },
                "reagents": ["Angel Feathers", "Apple Crow Feathers"],
            },
            {
                "name": "Reflex Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus to Reflex until the end of your next turn.",
                    2: "Gain a +4 potion bonus to Reflex until the end of your next turn.",
                    3: "Gain a +6 potion bonus to Reflex until the end of your next turn.",
                    4: "Gain a +4 potion bonus to Reflex until the end of the encounter.",
                    5: "Gain a +6 potion bonus to Reflex until the end of the encounter.",
                    6: "Gain a +8 potion bonus to Reflex until the end of the encounter.",
                    7: "Gain a +6 potion bonus to Reflex for 1 hour.",
                    8: "Gain a +8 potion bonus to Reflex for 1 hour.",
                    9: "Gain a +10 potion bonus to Reflex for 1 hour.",
                    10: "Gain a +10 potion bonus to Reflex for 1 day. Gain a permanent +2 bonus to Reflex.",
                },
                "reagents": ["Angel Feathers", "Azer Scalp", "Bear Bug", "Drake Liver"],
            },
            {
                "name": "Attack Boost",
                "lvls": {
                    1: "+1 potion bonus to your attack rolls until the end of your next turn.",
                    2: "+1 potion bonus to your attack rolls until the end of the encounter.",
                    3: "+2 potion bonus to your attack rolls until the end of your next turn.",
                    4: "+2 potion bonus to your attack rolls until the end of the encounter.",
                    5: "+3 potion bonus to your attack rolls until the end of your next turn.",
                    6: "+3 potion bonus to your attack rolls until the end of the encounter.",
                    7: "+4 potion bonus to your attack rolls until the end of your next turn.",
                    8: "+4 potion bonus to your attack rolls until the end of the encounter.",
                    9: "+5 potion bonus to your attack rolls until the end of your next turn.",
                    10: "+5 potion bonus to your attack rolls until the end of the encounter. Gain a permanent +1 bonus to all attack rolls.",
                },
                "reagents": ["Astrid's Plume", "Bonetail Mouse", "Couatl Scales"],
            },
            {
                "name": "Martial Damage Boost",
                "lvls": {
                    1: "+2 potion bonus to your damage rolls using abilities with the Martial keyword until the end of your next turn.",
                    2: "+1 potion bonus to your damage rolls using abilities with the Martial keyword until the end of the encounter.",
                    3: "+4 potion bonus to your damage rolls using abilities with the Martial keyword until the end of your next turn.",
                    4: "+2 potion bonus to your damage rolls using abilities with the Martial keyword until the end of the encounter.",
                    5: "+6 potion bonus to your damage rolls using abilities with the Martial keyword until the end of your next turn.",
                    6: "+3 potion bonus to your damage rolls using abilities with the Martial keyword until the end of the encounter.",
                    7: "+8 potion bonus to your damage rolls using abilities with the Martial keyword until the end of your next turn.",
                    8: "+4 potion bonus to your damage rolls using abilities with the Martial keyword until the end of the encounter.",
                    9: "+5 potion bonus to your damage rolls using abilities with the Martial keyword until the end of your next turn.",
                    10: "+5 potion bonus to your damage rolls using abilities with the Martial keyword until the end of the encounter. Gain a permanent +1 bonus to damage rolls from Martial powers.",
                },
                "reagents": ["Black Butterfin", "Couatl Scales"],
            },
            {
                "name": "Magic Damage Boost",
                "lvls": {
                    1: "+2 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of your next turn.",
                    2: "+1 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of the encounter.",
                    3: "+4 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of your next turn.",
                    4: "+2 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of the encounter.",
                    5: "+6 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of your next turn.",
                    6: "+3 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of the encounter.",
                    7: "+8 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of your next turn.",
                    8: "+4 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of the encounter.",
                    9: "+5 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of your next turn.",
                    10: "+5 potion bonus to your damage rolls using Arcane, Divine, Primal or Psionic powers until the end of the encounter. Gain a permanent +1 bonus to damage rolls from Arcane, Divine, Primal or Psionic powers.",
                },
                "reagents": ["Archane Bladder", "Archane Salt", "Beholder Eye Gel", "Cross-Eyed Toad", "Dryad Fingers"],
            },
            {
                "name": "Fire Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Fire until the end of the encounter.",
                    2: "Gain Resist 4 to Fire until the end of the encounter.",
                    3: "Gain Resist 6 to Fire until the end of the encounter.",
                    4: "Gain Resist 8 to Fire until the end of the encounter.",
                    5: "Gain Resist 10 to Fire until the end of the encounter.",
                    6: "Gain Resist 12 to Fire until the end of the encounter.",
                    7: "Gain Resist 14 to Fire until the end of the encounter.",
                    8: "Gain Resist 16 to Fire until the end of the encounter.",
                    9: "Gain Resist 18 to Fire until the end of the encounter.",
                    10: "Gain Resist 20 to Fire until the end of the encounter and a permanent Resist 5 to Fire (or +5 if you already have that resistance).",
                },
                "reagents": ["Azer Scalp", "Beholder Eye Gel", "Blubber Bass", "Chunky Volcanic Tar"],
            },
            {
                "name": "Cold Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Cold until the end of the encounter.",
                    2: "Gain Resist 4 to Cold until the end of the encounter.",
                    3: "Gain Resist 6 to Cold until the end of the encounter.",
                    4: "Gain Resist 8 to Cold until the end of the encounter.",
                    5: "Gain Resist 10 to Cold until the end of the encounter.",
                    6: "Gain Resist 12 to Cold until the end of the encounter.",
                    7: "Gain Resist 14 to Cold until the end of the encounter.",
                    8: "Gain Resist 16 to Cold until the end of the encounter.",
                    9: "Gain Resist 18 to Cold until the end of the encounter.",
                    10: "Gain Resist 20 to Cold until the end of the encounter and a permanent Resist 5 to Cold (or +5 if you already have that resistance).",
                },
                "reagents": ["Archon Blood", "Beholder Eye Gel", "Blue-Backed Mole", "Crawling Vera Fungus", "Dark Fibrous Tissue", "Diddlepus Eggs", "Djinn Dust"],
            },
            {
                "name": "Lightning Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Lightning until the end of the encounter.",
                    2: "Gain Resist 4 to Lightning until the end of the encounter.",
                    3: "Gain Resist 6 to Lightning until the end of the encounter.",
                    4: "Gain Resist 8 to Lightning until the end of the encounter.",
                    5: "Gain Resist 10 to Lightning until the end of the encounter.",
                    6: "Gain Resist 12 to Lightning until the end of the encounter.",
                    7: "Gain Resist 14 to Lightning until the end of the encounter.",
                    8: "Gain Resist 16 to Lightning until the end of the encounter.",
                    9: "Gain Resist 18 to Lightning until the end of the encounter.",
                    10: "Gain Resist 20 to Lightning until the end of the encounter and a permanent Resist 5 to Lightning (or +5 if you already have that resistance).",
                },
                "reagents": ["Aberrant Plant Seeds", "Ajax's Passion", "Archane Salt", "Archon Blood", "Beholder Eye Gel", "Chimera Spinal Cord", "Dollhouse Lizard"],
            },
            {
                "name": "Acid Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Acid until the end of the encounter.",
                    2: "Gain Resist 4 to Acid until the end of the encounter.",
                    3: "Gain Resist 6 to Acid until the end of the encounter.",
                    4: "Gain Resist 8 to Acid until the end of the encounter.",
                    5: "Gain Resist 10 to Acid until the end of the encounter.",
                    6: "Gain Resist 12 to Acid until the end of the encounter.",
                    7: "Gain Resist 14 to Acid until the end of the encounter.",
                    8: "Gain Resist 16 to Acid until the end of the encounter.",
                    9: "Gain Resist 18 to Acid until the end of the encounter.",
                    10: "Gain Resist 20 to Acid until the end of the encounter and a permanent Resist 5 to Acid (or +5 if you already have that resistance).",
                },
                "reagents": ["Bear Bug", "Biting Lanternfish", "Cellulose Plasma", "Dead Man's Dandelion", "Drake Liver", "Dryad Fingers"],
            },
            {
                "name": "Poison Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Poison until the end of the encounter.",
                    2: "Gain Resist 4 to Poison until the end of the encounter.",
                    3: "Gain Resist 6 to Poison until the end of the encounter.",
                    4: "Gain Resist 8 to Poison until the end of the encounter.",
                    5: "Gain Resist 10 to Poison until the end of the encounter.",
                    6: "Gain Resist 12 to Poison until the end of the encounter.",
                    7: "Gain Resist 14 to Poison until the end of the encounter.",
                    8: "Gain Resist 16 to Poison until the end of the encounter.",
                    9: "Gain Resist 18 to Poison until the end of the encounter.",
                    10: "Gain Resist 20 to Poison until the end of the encounter and a permanent Resist 5 to Poison (or +5 if you already have that resistance).",
                },
                "reagents": ["Dolphin Kelp"],
            },
            {
                "name": "Necrotic Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Necrotic until the end of the encounter.",
                    2: "Gain Resist 4 to Necrotic until the end of the encounter.",
                    3: "Gain Resist 6 to Necrotic until the end of the encounter.",
                    4: "Gain Resist 8 to Necrotic until the end of the encounter.",
                    5: "Gain Resist 10 to Necrotic until the end of the encounter.",
                    6: "Gain Resist 12 to Necrotic until the end of the encounter.",
                    7: "Gain Resist 14 to Necrotic until the end of the encounter.",
                    8: "Gain Resist 16 to Necrotic until the end of the encounter.",
                    9: "Gain Resist 18 to Necrotic until the end of the encounter.",
                    10: "Gain Resist 20 to Necrotic until the end of the encounter and a permanent Resist 5 to Necrotic (or +5 if you already have that resistance).",
                },
                "reagents": ["Adder Venom", "Blood Ash Bark", "Bonetail Mouse", "Decay Residue"],
            },
            {
                "name": "Radiant Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Radiant until the end of the encounter.",
                    2: "Gain Resist 4 to Radiant until the end of the encounter.",
                    3: "Gain Resist 6 to Radiant until the end of the encounter.",
                    4: "Gain Resist 8 to Radiant until the end of the encounter.",
                    5: "Gain Resist 10 to Radiant until the end of the encounter.",
                    6: "Gain Resist 12 to Radiant until the end of the encounter.",
                    7: "Gain Resist 14 to Radiant until the end of the encounter.",
                    8: "Gain Resist 16 to Radiant until the end of the encounter.",
                    9: "Gain Resist 18 to Radiant until the end of the encounter.",
                    10: "Gain Resist 20 to Radiant until the end of the encounter and a permanent Resist 5 to Radiant (or +5 if you already have that resistance).",
                },
                "reagents": ["Ace Cloves", "Chlorocondria", "Dragonbloom"],
            },
            {
                "name": "Psychic Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Psychic until the end of the encounter.",
                    2: "Gain Resist 4 to Psychic until the end of the encounter.",
                    3: "Gain Resist 6 to Psychic until the end of the encounter.",
                    4: "Gain Resist 8 to Psychic until the end of the encounter.",
                    5: "Gain Resist 10 to Psychic until the end of the encounter.",
                    6: "Gain Resist 12 to Psychic until the end of the encounter.",
                    7: "Gain Resist 14 to Psychic until the end of the encounter.",
                    8: "Gain Resist 16 to Psychic until the end of the encounter.",
                    9: "Gain Resist 18 to Psychic until the end of the encounter.",
                    10: "Gain Resist 20 to Psychic until the end of the encounter and a permanent Resist 5 to Psychic (or +5 if you already have that resistance).",
                },
                "reagents": ["Aberrant Plant Seeds", "Aegis Pebbles", "Archon Blood", "Cadberries", "Carbuncle Ore"],
            },
            {
                "name": "Thunder Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Thunder until the end of the encounter.",
                    2: "Gain Resist 4 to Thunder until the end of the encounter.",
                    3: "Gain Resist 6 to Thunder until the end of the encounter.",
                    4: "Gain Resist 8 to Thunder until the end of the encounter.",
                    5: "Gain Resist 10 to Thunder until the end of the encounter.",
                    6: "Gain Resist 12 to Thunder until the end of the encounter.",
                    7: "Gain Resist 14 to Thunder until the end of the encounter.",
                    8: "Gain Resist 16 to Thunder until the end of the encounter.",
                    9: "Gain Resist 18 to Thunder until the end of the encounter.",
                    10: "Gain Resist 20 to Thunder until the end of the encounter and a permanent Resist 5 to Thunder (or +5 if you already have that resistance).",
                },
                "reagents": ["Basilisk Tail", "Boney Chrysanthemum", "Djinn Dust"],
            },
            {
                "name": "Weapon Resistance",
                "lvls": {
                    1: "Gain Resist 2 to Weapon and Untyped damage until the end of the encounter.",
                    2: "Gain Resist 4 to Weapon and Untyped damage until the end of the encounter.",
                    3: "Gain Resist 6 to Weapon and Untyped damage until the end of the encounter.",
                    4: "Gain Resist 8 to Weapon and Untyped damage until the end of the encounter.",
                    5: "Gain Resist 10 to Weapon and Untyped damage until the end of the encounter.",
                    6: "Gain Resist 12 to Weapon and Untyped damage until the end of the encounter.",
                    7: "Gain Resist 14 to Weapon and Untyped damage until the end of the encounter.",
                    8: "Gain Resist 16 to Weapon and Untyped damage until the end of the encounter.",
                    9: "Gain Resist 18 to Weapon and Untyped damage until the end of the encounter.",
                    10: "Gain Resist 20 to Weapon and Untyped damage until the end of the encounter and a permanent Resist 5 to Weapon and Untyped damage (or +5 if you already have it).",
                },
                "reagents": ["Astrid's Plume", "Callowale", "Chitinous Scales", "Cross-Eyed Toad"],
            },
            {
                "name": "Damage Resistance",
                "lvls": {
                    1: "Gain damage reduction 1 until the end of the encounter.",
                    2: "Gain damage reduction 2 until the end of the encounter.",
                    3: "Gain damage reduction 3 until the end of the encounter.",
                    4: "Gain damage reduction 4 until the end of the encounter.",
                    5: "Gain damage reduction 5 until the end of the encounter.",
                    6: "Gain damage reduction 6 until the end of the encounter.",
                    7: "Gain damage reduction 7 until the end of the encounter.",
                    8: "Gain damage reduction 8 until the end of the encounter.",
                    9: "Gain damage reduction 9 until the end of the encounter.",
                    10: "Gain damage reduction 10 until the end of the encounter and a permanent damage reduction of 2 (or +2 if you have it already).",
                },
                "reagents": [""],
            },
            {
                "name": "Temporary Health",
                "lvls": {
                    1: "Gain 5 temporary HP.",
                    2: "Gain 10 temporary HP.",
                    3: "Gain 15 temporary HP.",
                    4: "Gain 20 temporary HP.",
                    5: "Gain 25 temporary HP.",
                    6: "Gain 30 temporary HP.",
                    7: "Gain 35 temporary HP.",
                    8: "Gain 40 temporary HP.",
                    9: "Gain 45 temporary HP.",
                    10: "Gain 50 temporary HP. Gain a Daily Utility power: Minor Action: Gain temporary HP equal to half your level + your Constitution modifier.",
                },
                "reagents": ["Ace Cloves", "Aegis Pebbles", "Angelhair Grass", "Archane Bladder", "Bandersnatch", "Blue Frilled Lizard", "Dollhouse Lizard"],
            },
            {
                "name": "Speed",
                "lvls": {
                    1: "Gain a +1 potion bonus to your speed until the end of your next turn.",
                    2: "Gain a +1 potion bonus to your speed until the end of the encounter.",
                    3: "Gain a +2 potion bonus to your speed until the end of your next turn.",
                    4: "Gain a +2 potion bonus to your speed until the end of the encounter.",
                    5: "Gain a +3 potion bonus to your speed until the end of your next turn.",
                    6: "Gain a +3 potion bonus to your speed until the end of the encounter.",
                    7: "Gain a +4 potion bonus to your speed until the end of your next turn.",
                    8: "Gain a +5 potion bonus to your speed until the end of the encounter.",
                    9: "Gain a +6 potion bonus to your speed until the end of the encounter.",
                    10: "Gain a +8 potion bonus to your speed until the end of the encounter. Gain a permanent +1 bonus to your speed.",
                },
                "reagents": ["Boney Chrysanthemum", "Creeping King", "Dragonbloom"],
            },
            {
                "name": "Regeneration",
                "lvls": {
                    1: "Gain regeneration 1 until the end of the encounter.",
                    2: "Gain regeneration 2 until the end of the encounter.",
                    3: "Gain regeneration 3 until the end of the encounter.",
                    4: "Gain regeneration 5 until the end of the encounter.",
                    5: "Gain regeneration 8 until the end of the encounter.",
                    6: "Gain regeneration 10 until the end of the encounter.",
                    7: "Gain regeneration 12 until the end of the encounter.",
                    8: "Gain regeneration 15 until the end of the encounter.",
                    9: "Gain regeneration 20 until the end of the encounter.",
                    10: "Gain regeneration 25 until the end of the encounter. Gain a Daily Utility power: Minor Action: Until the end of the encounter, you have regeneration 5 while you are bloodied.",
                },
                "reagents": ["Blood Ash Bark", "Blood Moss"],
            },
            {
                "name": "Flight",
                "lvls": {
                    1: "Gain a flight speed of 4 until the end of your next turn.",
                    2: "Gain a flight speed of 5 until the end of your next turn.",
                    3: "Gain a flight speed of 6 until the end of your next turn.",
                    4: "Gain a flight speed of 8 until the end of your next turn.",
                    5: "Gain a flight speed of 10 until the end of your next turn.",
                    6: "Gain a flight speed of 6 until the end of the encounter.",
                    7: "Gain a flight speed of 8 until the end of the encounter.",
                    8: "Gain a flight speed of 10 until the end of the encounter.",
                    9: "Gain a flight speed of 8 for one hour.",
                    10: "Gain a flight speed of 8 until you take a long rest. Gain a Daily Utility power: Minor Action: Gain a flight speed of 10 until the end of your next turn.",
                },
                "reagents": ["Apple Crow Feathers", "Astral Calcium", "Callowale", "Drake Liver"],
            },
            {
                "name": "Water Walking",
                "lvls": {
                    1: "Gain the ability to move on water at half your speed as if it were normal terrain until the end of your next turn.",
                    2: "Gain the ability to move on water at your speed as if it were normal terrain until the end of your next turn.",
                    3: "Gain the ability to move on water at your speed as if it were normal terrain until the end of the encounter.",
                    4: "Gain the ability to move on water or ice at your speed as if it were normal terrain until the end of the encounter.",
                    5: "Gain the ability to move on water or ice at your speed as if it were normal terrain for one hour.",
                    6: "Gain the ability to move on water or ice at your speed for one hour. You may also move across harmful liquids such as acid or lava, but if you end your movement there, you fall in. You are subject to damage as you cross dangerous liquids.",
                    7: "Gain the ability to move on any liquid or ice at your speed for one hour. You are subject to damage as you cross dangerous liquids.",
                    8: "Gain the ability to move on any liquid or ice at your speed for one hour. You take no damage from liquid or ice surfaces as long as you are standing.",
                    9: "Gain the ability to move on any liquid or ice at your speed for one day. You take no damage from liquid or ice surfaces as long as you are not prone or submerged.",
                    10: "Gain the ability to move on any liquid or ice at your speed for one day. You take no damage from liquid or ice surfaces as long as you are not submerged. You may elect to turn liquid squares into their solid form as you walk across them. If you do, they remain solid until the end of the encounter. You also permanently gain the ability to walk on water at your speed.",
                },
                "reagents": ["Ajax's Passion", "Black Butterfin", "Cellulose Plasma", "Dolphin Kelp"],
            },
            {
                "name": "Water Breathing",
                "lvls": {
                    1: "Gain Water Breathing for 1 minute.",
                    2: "Gain Water Breathing for 5 minutes.",
                    3: "Gain Water Breathing for 10 minutes.",
                    4: "Gain Water Breathing for 30 minutes.",
                    5: "Gain Water Breathing for 1 hour.",
                    6: "Gain Water Breathing for 3 hours.",
                    7: "Gain Water Breathing for 6 hours.",
                    8: "Gain Water Breathing for 12 hours.",
                    9: "Gain Water Breathing for 1 day.",
                    10: "Permanently gain the ability to breathe underwater. This ability does not apply to other liquids.",
                },
                "reagents": ["Aegis Pebbles", "Aquatic Finch Eggs", "Blubber Bass", "Chimera Spinal Cord", "Chlorocondria", "Castro Crab", "Diddlepus Eggs"],
            },
            {
                "name": "Invisibility",
                "lvls": {
                    1: "You become invisible until the end of your next turn. You still must make Stealth checks.",
                    2: "You become invisible until the end of the encounter or until you take any action other than standing still and hiding.",
                    3: "You become invisible until the end of the encounter or until you attack or move more than 1 square on your turn.",
                    4: "You become invisible until the end of the encounter or until you attack or move more than 2 squares on your turn.",
                    5: "You become invisible until the end of the encounter or until you attack or move more than half your speed on your turn.",
                    6: "You become invisible until the end of the encounter or until you attack.",
                    7: "You become invisible until the end of the encounter or until you make a melee attack.",
                    8: "You become invisible until the end of the encounter.",
                    9: "You become invisible for 1 hour.",
                    10: "You become invisible for 1 day. Gain a permanent Daily Utility power: Minor Action: You become invisible until you attack or move more than half your speed on your turn.",
                },
                "reagents": ["Biting Lanternfish", "Boney Chrysanthemum", "Dagger Viper Venom"],
            },
            {
                "name": "Slow Fall",
                "lvls": {
                    1: "Until the end of your next turn, you fall at a rate of 3 squares (15 ft.) per round.",
                    2: "Until the end of your next turn, you fall at a rate of 6 squares (30 ft.) per round.",
                    3: "Until the end of your next turn, you fall at a rate of 10 squares (50 ft.) per round.",
                    4: "Until the end of the encounter, you fall at a rate of 3 squares (15 ft.) per round.",
                    5: "Until the end of the encounter, you fall at a rate of 6 squares (30 ft.) per round.",
                    6: "Until the end of the encounter, you fall at a rate of 10 squares (50 ft.) per round.",
                    7: "Until the end of the encounter, you can control the rate of your decent, anywhere from 3 to 10 squares (15 to 50 ft.) per round.",
                    8: "For 1 hour, you can control the rate of your decent, anywhere from 1 to 30 squares (5 to 150 ft.) per round.",
                    9: "For 1 hour, you can control the rate of your decent, anywhere from 0 to 115 squares (0 to 575 ft.) per round.",
                    10: "For 1 day, you can control the rate of your decent, anywhere from 0 to 115 squares (0 to 575 ft.) per round. Gain a permanent Daily Utility power: Free Action: Until the end of the encounter, you fall at a rate of 6 squares (30 ft.) per round.",
                },
                "reagents": [""],
            },
            {
                "name": "Spider Climb",
                "lvls": {
                    1: "Until the end of your next turn, you automatically succeed at Athletics checks to climb vertical surfaces. (Half speed, as normal.)",
                    2: "Until the end of your next turn, you automatically succeed at Athletics checks to climb vertical surfaces. You can climb at your speed.",
                    3: "Until the end of the encounter, you automatically succeed at Athletics checks to climb vertical surfaces. (Half speed, as normal.)",
                    4: "Until the end of the encounter, you automatically succeed at Athletics checks to climb vertical surfaces. You can climb at your speed.",
                    5: "Until the end of the encounter, you gain a climb speed equal to your speed and can move on ceilings at half your speed.",
                    6: "Until the end of the encounter, you gain a climb speed equal to your speed and can move on ceilings.",
                    7: "For one hour, you gain a climb speed equal to your speed and can move on ceilings.",
                    8: "For one hour, you gain a climb speed equal to your speed and can move on ceilings. If you wish, you may leave a trail of sticky spider web behind in squares you move through, turning them into difficult terrain for anyone but you.  It takes a standard action to clear away one square of webbing.",
                    9: "For one hour, you gain a climb speed equal to your speed and can move on ceilings. If you wish, you may leave a trail of sticky spider web behind in squares you move through, turning them into difficult terrain for anyone but you.  It takes a standard action to clear away one square of webbing. You may lower yourself from ceilings or overhangs by a thread of web at your speed, and can likewise climb back up. These threads disolve after 5 minutes.",
                    10: "For one day, you gain a climb speed equal to your speed and can move on ceilings. If you wish, you may leave a trail of sticky spider web behind in squares you move through, turning them into difficult terrain for anyone but you.  It takes a standard action to clear away one square of webbing. You may lower yourself from ceilings or overhangs by a thread of web at your speed, and can likewise climb back up. These threads disolve after 5 minutes. Gain a permanent Daily Utility power: Minor Action: Until the end of the encounter, you gain a climb speed equal to your speed and can move on ceilings at half your speed.",
                },
                "reagents": ["Adder Venom", "Bandersnatch", "Dwarven Castinite"],
            },
            {
                "name": "Darkvision",
                "lvls": {
                    1: "Gain Darkvision up to 6 squares (30 ft.) for 1 minute.",
                    2: "Gain Darkvision up to 10 squares (50 ft.) for 1 minute.",
                    3: "Gain Darkvision up to 12 squares (60 ft.) for 5 minutes.",
                    4: "Gain Darkvision up to 16 squares (80 ft.) for 5 minutes.",
                    5: "Gain Darkvision up to 20 squares (100 ft.) for 5 minutes.",
                    6: "Gain Darkvision up to 50 squares (250 ft.) for 5 minutes.",
                    7: "Gain Darkvision up to 50 squares (250 ft.) for 1 hour.",
                    8: "Gain Darkvision with unlimited distance for 1 hour.",
                    9: "Gain Darkvision with unlimited distance for 6 hours. This effect works even in magical darkness.",
                    10: "Gain Darkvision with unlimited distance for 1 day. This effect works even in magical darkness. Permanently gain Darkvision up to 20 squares (100 ft.). If you already have Darkvision, your Darkvision extends by 12 squares (60 ft.).",
                },
                "reagents": ["Aegis Pebbles", "Archane Salt", "Dark Fibrous Tissue", "Demon Musk"],
            },
            {
                "name": "Cure Poison",
                "lvls": {
                    1: "Make a saving throw against one source of ongoing Poison damage.",
                    2: "Make a saving throw against any single effect that has the Poison keyword.",
                    3: "Make a saving throw against any single effect that has the Poison keyword with a +2 potion bonus.",
                    4: "Make a saving throw against any single effect that has the Poison keyword with a +5 potion bonus.",
                    5: "Make a saving throw against each effect that has the Poison keyword, each with a +5 potion bonus.",
                    6: "Instantly save against a single effect that has the Poison keyword.",
                    7: "Instantly save against a single effect that has the Poison keyword. You are immune to ongoing and status condition effects resulting from that type of poison for the rest of the encounter.",
                    8: "Instantly save against all effects that have the Poison keyword. You are immune to all of the ongoing and status condition effects resulting from the poisons you saved from for the rest of the encounter.",
                    9: "Instantly save against all effects that have the Poison keyword. You are immune to ongoing and status condition effects that would result from any attack that has the Poison keyword until the end of the encounter.",
                    10: "Instantly save against all effects that have the Poison keyword. You are immune to ongoing and status condition effects that would result from any attack that has the Poison keyword for 1 hour. Gain a permanent Daily Utility power: Minor Action: Instantly save against a single effect that has the Poison keyword.",
                },
                "reagents": ["Aberrant Plant Seeds", "Boney Chrysanthemum", "Chunky Volcanic Tar", "Cow Piss Berries", "Dollhouse Lizard"],
            },
            {
                "name": "Neutralize",
                "lvls": {
                    1: "Make a saving throw against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    2: "Make a saving throw with a +2 potion bonus against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    3: "Make a saving throw with a +4 potion bonus against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    4: "Make a saving throw with a +6 potion bonus against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    5: "Immediately save against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    6: "Make saving throws with a +2 potion bonus against up to 2 effects causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    7: "Make saving throws with a +4 potion bonus against up to 2 effects causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    8: "Make saving throws with a +6 potion bonus against up to 3 effects causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    9: "Immediately save against all effects causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                    10: "Immediately save against all effects causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage, and you cannot be affected by one of those types of ongoing damage for the rest of the encounter. Gain a permanent Daily Utility power: Minor Action: Immediately save against one effect causing ongoing Fire, Cold, Lightning, Thunder, Acid, Necrotic or Radiant damage.",
                },
                "reagents": ["Archon Blood"],
            },
            {
                "name": "Polymorph",
                "lvls": {
                    1: "Change your physical form into another form that is the same race and size as you for 5 minutes. Your voice remains unchanged. You may end the effect as a standard action, but cannot shift back.",
                    2: "Change your physical form and voice into another form that is the same race and size as you for 5 minutes. You may end the effect as a move action, but cannot shift back.",
                    3: "Change your physical form and voice into another humanoid form of the same size as you for 5 minutes. The change affects appearance only, not stats or abilities. You may end the effect as a move action, but cannot shift back.",
                    4: "Change your physical form and voice into another humanoid form of the same size as you for 30 minutes. The change affects appearance only, not stats or abilities. You may end the effect as a move action, but cannot shift back.",
                    5: "Change your physical form and voice into another humanoid form of the same size as you for 1 hour. The change affects appearance only, not stats or abilities. You may end the effect as a minor action, but cannot shift back.",
                    6: "Change your physical form and voice into another humanoid form of the same size or one size category smaller than you for 1 hour. The change affects appearance only, not stats or abilities. You may end the effect as a minor action, but cannot shift back.",
                    7: "Change your physical form and voice into another humanoid form of the same size or one size category smaller than you for 6 hours. The change affects appearance only, not stats or abilities. You may end the effect as a minor action, but cannot shift back.",
                    8: "Change your physical form and voice into another humanoid form of the same size or one size category larger or smaller than you for 6 hours. The change affects appearance only, not stats or abilities.  For the duration, you may shift in and out of this form as a minor action.",
                    9: "Change your physical form and voice into any species of up to one size category larger than you for 1 day. The change affects appearance only, not stats or abilities. For the duration, you may shift in and out of that chosen form as a minor action.",
                    10: "Change your physical form and voice into any species of up to one size category larger than you for 1 day. The change affects appearance only, not stats or abilities. For the duration, you may shapechange into any such form as a minor action. Gain a permanent Daily Utility power: Minor Action: Change your physical form and voice into another humanoid form of the same size as you for 1 hour. You may end the effect as a minor action, but cannot shift back.",
                },
                "reagents": ["Baxonium", "Biting Lanternfish", "Cadberries", "Cellulose Plasma", "Drake Liver"],
            },
            {
                "name": "Truesight",
                "lvls": {
                    1: "Gain Truesight up to 6 squares (30 ft.) until the end of your next turn.",
                    2: "Gain Truesight up to 10 squares (50 ft.) until the end of your next turn.",
                    3: "Gain Truesight up to 12 squares (60 ft.) for 1 minute.",
                    4: "Gain Truesight up to 16 squares (80 ft.) for 1 minute.",
                    5: "Gain Truesight up to 20 squares (100 ft.) for 1 minute.",
                    6: "Gain Truesight up to 50 squares (250 ft.) for 1 minute.",
                    7: "Gain Truesight up to 50 squares (250 ft.) until the end of the encounter or 5 minutes.",
                    8: "Gain Truesight with unlimited distance for 10 minutes.",
                    9: "Gain Truesight with unlimited distance for 1 hour.",
                    10: "Gain Truesight with unlimited distance for 6 hours. Gain a permanent Daily Utility power: Free Action: Gain Truesight up to 12 squares (60 ft.) for 1 minute.",
                },
                "reagents": ["Astrid's Plume", "Carbuncle Ore", "Cyclops Iris", "Djinn Dust"],
            },
            {
                "name": "Ghost Form",
                "lvls": {
                    1: "You become Insubstantial until the end of your next turn.",
                    2: "You become Insubstantial and gain Phasing until the end of your next turn.",
                    3: "You become Insubstantial and gain Phasing for 1 minute, or until you are hit by an attack.",
                    4: "You become Insubstantial and gain Phasing for 1 minute.",
                    5: "You become Insubstantial and gain Phasing for 5 minutes, or until you are hit by an attack.",
                    6: "You become Insubstantial and gain Phasing for 5 minutes.",
                    7: "You become Insubstantial and gain Phasing for 10 minutes.",
                    8: "You become Insubstantial and gain Phasing for 20 minutes.",
                    9: "You become Insubstantial and gain Phasing for 1 hour.",
                    10: "You become Insubstantial and gain Phasing for 3 hours. Gain a permanent Daily Utility power: Minor Action: You become Insubstantial and gain Phasing for 5 minutes, or until you are hit by an attack.",
                },
                "reagents": ["Dwarven Castinite"],
            },
            {
                "name": "Alertness",
                "lvls": {
                    1: "Make a saving throw against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                    2: "Make a saving throw with a +2 potion bonus against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                    3: "Make a saving throw with a +4 potion bonus against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                    4: "Make a saving throw with a +6 potion bonus against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                    5: "Immediately save against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                    6: "Make saving throws with a +2 potion bonus against up to 2 effects causing Daze, Stun, Unconscious or Dominated.",
                    7: "Make saving throws with a +4 potion bonus against up to 2 effects causing Daze, Stun, Unconscious or Dominated.",
                    8: "Make saving throws with a +6 potion bonus against up to 2 effects causing Daze, Stun, Unconscious or Dominated.",
                    9: "Immediately save against all effects causing Daze, Stun, Unconscious or Dominated.",
                    10: "Immediately save against all effects causing Daze, Stun, Unconscious or Dominated. You cannot be affected by Daze, Stun or Dominated for the rest of the encounter. Gain a permanent Daily Utility power: Minor Action: Immediately save against one effect that is causing Daze, Stun, Unconscious or Dominated.",
                },
                "reagents": ["Astrid's Plume", "Black Butterfin", "Blood Moss", "Cow Piss Berries", "Cross-Eyed Toad", "Dark Fennel Seeds"],
            },
            {
                "name": "Acrobatics Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus on your next Acrobatics check.",
                    2: "Gain a +4 potion bonus on your next Acrobatics check.",
                    3: "Gain a +6 potion bonus on your next Acrobatics check.",
                    4: "Gain a +8 potion bonus on your next Acrobatics check.",
                    5: "Gain a +10 potion bonus on your next Acrobatics check.",
                    6: "Gain a +10 potion bonus on your next Acrobatics check, and gain a +2 potion bonus to Acrobatics checks for 5 minutes.",
                    7: "Gain a +10 potion bonus on your next Acrobatics check, and gain a +4 potion bonus to Acrobatics checks for 30 minutes.",
                    8: "Automatically succeed on your next Acrobatics check, and gain a +6 potion bonus to Acrobatics checks for 1 hour.",
                    9: "Automatically succeed on your next Acrobatics check, and gain a +10 potion bonus to Acrobatics checks for 1 hour.",
                    10: "Automatically succeed on Acrobatics checks for 1 hour. Gain a permanent +3 to your Acrobatics checks.",
                },
                "reagents": ["Angelhair Grass", "Bear Bug", "Belfry Flowers", "Cyclops Iris"],
            },
            {
                "name": "Athletics Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus on your next Athletics check.",
                    2: "Gain a +4 potion bonus on your next Athletics check.",
                    3: "Gain a +6 potion bonus on your next Athletics check.",
                    4: "Gain a +8 potion bonus on your next Athletics check.",
                    5: "Gain a +10 potion bonus on your next Athletics check.",
                    6: "Gain a +10 potion bonus on your next Athletics check, and gain a +2 potion bonus to Athletics checks for 5 minutes.",
                    7: "Gain a +10 potion bonus on your next Athletics check, and gain a +4 potion bonus to Athletics checks for 30 minutes.",
                    8: "Automatically succeed on your next Athletics check, and gain a +6 potion bonus to Athletics checks for 1 hour.",
                    9: "Automatically succeed on your next Athletics check, and gain a +10 potion bonus to Athletics checks for 1 hour.",
                    10: "Automatically succeed on Athletics checks for 1 hour. Gain a permanent +3 to your Athletics checks.",
                },
                "reagents": ["Azer Scalp", "Baxonium", "Blue-Backed Mole", "Dead Man's Dandelion"],
            },
            {
                "name": "Endurance Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus on your next Endurance check.",
                    2: "Gain a +4 potion bonus on your next Endurance check.",
                    3: "Gain a +6 potion bonus on your next Endurance check.",
                    4: "Gain a +8 potion bonus on your next Endurance check.",
                    5: "Gain a +10 potion bonus on your next Endurance check.",
                    6: "Gain a +10 potion bonus on your next Endurance check, and gain a +2 potion bonus to Endurance checks for 5 minutes.",
                    7: "Gain a +10 potion bonus on your next Endurance check, and gain a +4 potion bonus to Endurance checks for 30 minutes.",
                    8: "Automatically succeed on your next Endurance check, and gain a +6 potion bonus to Endurance checks for 1 hour.",
                    9: "Automatically succeed on your next Endurance check, and gain a +10 potion bonus to Endurance checks for 1 hour.",
                    10: "Automatically succeed on Endurance checks for 1 hour. Gain a permanent +3 to your Endurance checks.",
                },
                "reagents": ["Astral Calcium", "Basilisk Tail", "Dark Fennel Seeds", "Diddlepus Eggs"],
            },
            {
                "name": "Perception Boost",
                "lvls": {
                    1: "Gain a +2 potion bonus on your next Perception check.",
                    2: "Gain a +4 potion bonus on your next Perception check.",
                    3: "Gain a +6 potion bonus on your next Perception check.",
                    4: "Gain a +8 potion bonus on your next Perception check.",
                    5: "Gain a +10 potion bonus on your next Perception check.",
                    6: "Gain a +10 potion bonus on your next Perception check, and gain a +2 potion bonus to Perception checks for 5 minutes.",
                    7: "Gain a +10 potion bonus on your next Perception check, and gain a +4 potion bonus to Perception checks for 30 minutes.",
                    8: "Automatically succeed on your next Perception check, and gain a +6 potion bonus to Perception checks for 1 hour.",
                    9: "Automatically succeed on your next Perception check, and gain a +10 potion bonus to Perception checks for 1 hour.",
                    10: "Automatically succeed on Perception checks for 1 hour. Gain a permanent +3 to your Perception checks.",
                },
                "reagents": ["Creeping King", "Dead Man's Dandelion"],
            },
            {
                "name": "Blinding",
                "lvls": {
                    1: "The target is blinded until the start of their next turn.",
                    2: "The target is blinded until the end of their next turn.",
                    3: "The target is blinded. Save ends.",
                    4: "The target is blinded. Save ends. The target suffers a -1 to save versus this effect.",
                    5: "The target is blinded. Save ends. The target suffers a -2 to save versus this effect.",
                    6: "The target is blinded. Save ends. The target suffers a -4 to save versus this effect.",
                    7: "The target is blinded. Save ends. The target suffers a -6 to save versus this effect.",
                    8: "The target is blinded. Save ends. The target suffers a -8 to save versus this effect.",
                    9: "The target is blinded. Save ends. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently blinded until a ritual or other means are used to restore them.",
                },
                "reagents": ["Callowale", "Displacer Beast Hooks"],
            },
            {
                "name": "Confusion",
                "lvls": {
                    1: "The target is confused until the end of its next turn. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1-2, they do nothing. On a 3-6, they act normally.",
                    2: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1-3, they do nothing. On a 4-6, they act normally.",
                    3: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1-2, they do nothing. On a 3-4, they move to the nearest creature and use a melee attack. On a 5-6 they act normally.",
                    4: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 3-4, they move to the nearest creature and use a melee attack. On a 5-6 they act normally.",
                    5: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally.",
                    6: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally. The target suffers a -2 to save versus this effect.",
                    7: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally. The target suffers a -4 to save versus this effect.",
                    8: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally. The target suffers a -6 to save versus this effect.",
                    9: "The target is confused. Save ends. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently confused until a Remove Affliction ritual or similar method is used to restore them. While the effect lasts, roll 1d6 at the start of the target's turn. On a 1, they do nothing. On a 2-3, they move their speed in a random direction (taking attacks of opportunity as appropriate). On a 4-5, they move to the nearest creature and use a melee attack. On a 6 they act normally.",
                },
                "reagents": ["Apple Crow Feathers", "Archane Salt", "Blue-Backed Mole", "Cross-Eyed Toad"],
            },
            {
                "name": "Fear",
                "lvls": {
                    1: "The target is afraid of you and your allies until the end of its next turn. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies.",
                    2: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies.",
                    3: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot make attacks of opportunity.",
                    4: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot make attacks of opportunity, and must make a successful saving throw at the beginning of each of its turns. If it fails, it cannot attack that turn. The target suffers a -1 to saves versus this effect.",
                    5: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot make attacks of opportunity, and must make a successful saving throw at the beginning of each of its turns. If it fails, it cannot attack that turn. The target suffers a -2 to save versus this effect.",
                    6: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot make attacks of opportunity, and must make a successful saving throw at the beginning of each of its turns. If it fails, it cannot attack that turn. The target suffers a -4 to save versus this effect.",
                    7: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot use attack powers or make attack rolls. The target suffers a -6 to save versus this effect.",
                    8: "The target is afraid of you and your allies, save ends. While the effect lasts, the target may not willingly or knowingly move closer to you or your allies. In addition, it cannot use attack powers or make attack rolls. The target suffers a -8 to save versus this effect.",
                    9: "The target is afraid of you and your allies, save ends. While the effect lasts, the target suffers a -2 to Will Defense and must move at least one square away from you and all of your allies on its turn, if possible.  This move must not end in a square that would put it closer to you or another of your allies. In addition, it cannot use attack powers or make attack rolls. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently afraid of you and your allies until a Remove Affliction ritual or similar method is used to restore them. While the effect lasts (and the target both percieves and is aware of you or your allies), the target suffers a -4 to Will Defense and must move its speed away from you and all of your allies on its turn if possible, provoking attacks of opportunity normally.  This move must not end in a square that would put it closer to you or another of your allies. In addition, it cannot use attack powers or make attack rolls.",
                },
                "reagents": ["Chunky Volcanic Tar", "Dark Fibrous Tissue", "Decay Residue", "Demon Musk", "Dolphin Kelp"],
            },
            {
                "name": "Sleep",
                "lvls": {
                    1: "The target becomes unconscious until the end of its next turn. The effect ends immediately if the target is poked, prodded or nudged.",
                    2: "The target becomes unconscious. Save ends. The effect ends immediately if the target is poked, prodded or nudged.",
                    3: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes damage.",
                    4: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes damage. The target suffers a -1 to save versus this effect.",
                    5: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes 5 or more points of damage at once. The target suffers a -2 to save versus this effect.",
                    6: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes 10 or more points of damage at once. The target suffers a -3 to save versus this effect.",
                    7: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes 15 or more points of damage at once. The target suffers a -4 to save versus this effect.",
                    8: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes damage that would put it below its bloodied value. The target suffers a -5 to save versus this effect.",
                    9: "The target becomes unconscious. Save ends. The effect ends immediately if the target takes damage that would put it below its bloodied value. The target suffers a -5 to save versus this effect. When the initial effect ends, the target is Dazed, save ends. The target suffers a -2 to save versus the secondary effect.",
                    10: "The target becomes permanently unconscious until a Remove Affliction ritual or similar method is used to restore them. Unless cared for by another, mortal creatures are subject to starvation, thirst, and environmental hazards as normal from long-term unconsciousness, since they cannot care for themselves. (DM's discretion)",
                },
                "reagents": ["Aquatic Finch Eggs", "Bonetail Mouse", "Carbuncle Ore", "Celophactum", "Creeping King", "Castro Crab"],
            },
            {
                "name": "Slowness",
                "lvls": {
                    1: "The target's speed is halved until the end of their next turn.",
                    2: "The target's speed is halved. Save ends.",
                    3: "The target's speed is halved. Save ends. The target suffers a -2 to save versus this effect.",
                    4: "The target is slow. Save ends. The target suffers a -3 to save versus this effect.",
                    5: "The target is slow. Save ends. The target suffers a -4 to save versus this effect.",
                    6: "The target is slow. Save ends. The target suffers a -5 to save versus this effect.",
                    7: "The target is slow. Save ends. The target suffers a -6 to save versus this effect.",
                    8: "The target's speed becomes 1. Save ends. The target suffers a -6 to save versus this effect.",
                    9: "The target's speed becomes 1 and it cannot take reactions or opportunity actions. The target suffers a -6 to save versus this effect.",
                    10: "The target's speed permanently becomes 1 and it cannot take reactions or opportunity actions until a Remove Affliction ritual or similar method is used to restore them.",
                },
                "reagents": ["Cellulose Plasma", "Decay Residue"],
            },
            {
                "name": "Daze",
                "lvls": {
                    1: "The target is dazed until the start of their next turn.",
                    2: "The target is dazed until the end of their next turn.",
                    3: "The target is dazed. Save ends.",
                    4: "The target is dazed. Save ends. The target suffers a -1 to save versus this effect.",
                    5: "The target is dazed. Save ends. The target suffers a -2 to save versus this effect.",
                    6: "The target is dazed. Save ends. The target suffers a -4 to save versus this effect.",
                    7: "The target is dazed. Save ends. The target suffers a -6 to save versus this effect.",
                    8: "The target is dazed. Save ends. The target suffers a -8 to save versus this effect.",
                    9: "The target is dazed. Save ends. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently dazed until a ritual or other means are used to restore them.",
                },
                "reagents": ["Cadberries", "Celophactum", "Chimera Spinal Cord", "Displacer Beast Hooks"],
            },
            {
                "name": "Stun",
                "lvls": {
                    1: "The target makes a saving throw with a +2 bonus. If it fails, it is stunned until the end of its next turn.",
                    2: "The target makes a saving throw. If it fails, it is stunned until the end of its next turn.",
                    3: "The target is stunned until the end of its next turn.",
                    4: "The target is stunned until the end of its next turn. Afterwards, it is dazed until the end of its next turn.",
                    5: "The target is stunned until the end of its next turn. Afterwards, it is dazed. Save ends.",
                    6: "The target is stunned, save ends.",
                    7: "The target is stunned, save ends. After saving, it is dazed. Save ends. The target suffers a -1 penalty to both of these saves.",
                    8: "The target is stunned, save ends. After saving, it is dazed. Save ends. The target suffers a -2 penalty to both of these saves.",
                    9: "The target is stunned, save ends. After saving, it is dazed. Save ends. The target suffers a -4 penalty to both of these saves.",
                    10: "The target is stunned, save ends. Only a natural 20 on the save can end the effect.",
                },
                "reagents": ["Apple Crow Feathers", "Bonetail Mouse", "Chitinous Scales", "Castro Crab", "Demon Musk"],
            },
            {
                "name": "Weakness",
                "lvls": {
                    1: "The target is weakened until the start of their next turn.",
                    2: "The target is weakened until the end of their next turn.",
                    3: "The target is weakened. Save ends.",
                    4: "The target is weakened. Save ends. The target suffers a -1 to save versus this effect.",
                    5: "The target is weakened. Save ends. The target suffers a -2 to save versus this effect.",
                    6: "The target is weakened. Save ends. The target suffers a -4 to save versus this effect.",
                    7: "The target is weakened. Save ends. The target suffers a -6 to save versus this effect.",
                    8: "The target is weakened. Save ends. The target suffers a -8 to save versus this effect.",
                    9: "The target is weakened. Save ends. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently weakened until a ritual or other means are used to restore them.",
                },
                "reagents": ["Belfry Flowers", "Blood Ash Bark", "Blood Moss", "Crawling Vera Fungus", "Dagger Viper Venom", "Dark Fennel Seeds", "Dark Fibrous Tissue"],
            },
            {
                "name": "Immobilize",
                "lvls": {
                    1: "The target is blind until the start of their next turn.",
                    2: "The target is blind until the end of their next turn.",
                    3: "The target is blind. Save ends.",
                    4: "The target is blind. Save ends. The target suffers a -1 to save versus this effect.",
                    5: "The target is blind. Save ends. The target suffers a -2 to save versus this effect.",
                    6: "The target is blind. Save ends. The target suffers a -4 to save versus this effect.",
                    7: "The target is blind. Save ends. The target suffers a -6 to save versus this effect.",
                    8: "The target is blind. Save ends. The target suffers a -8 to save versus this effect.",
                    9: "The target is blind. Save ends. Only a natural 20 on the save can end the effect.",
                    10: "The target is permanently blind until a ritual or other means are used to restore them.",
                },
                "reagents": ["Basilisk Tail", "Blue-Backed Mole", "Blue Frilled Lizard"],
            },
            {
                "name": "Petrification",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Basilisk Tail", "Chlorocondria"],
            },
            {
                "name": "Fire Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Belfry Flowers", "Dagger Viper Venom"],
            },
            {
                "name": "Cold Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Aquatic Finch Eggs", "Azer Scalp", "Blue Frilled Lizard", "Dead Man's Dandelion"],
            },
            {
                "name": "Lightning Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Ace Cloves"],
            },
            {
                "name": "Thunder Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Blubber Bass", "Chunky Volcanic Tar", "Diddlepus Eggs"],
            },
            {
                "name": "Necrotic Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Astral Calcium", "Bandersnatch", "Bear Bug"],
            },
            {
                "name": "Radiant Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Decay Residue"],
            },
            {
                "name": "Acid Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Cadberries", "Celophactum", "Chlorocondria"],
            },
            {
                "name": "Poison Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Ajax's Passion", "Angelhair Grass", "Archane Bladder", "Cow Piss Berries", "Crawling Vera Fungus", "Displacer Beast Hooks"],
            },
            {
                "name": "Psychic Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Baxonium", "Biting Lanternfish", "Celophactum", "Dwarven Castinite"],
            },
            {
                "name": "Weapon Vulnerability",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Aberrant Plant Seeds", "Black Butterfin", "Blood Moss", "Callowale"],
            },
            {
                "name": "Poisoning",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Adder Venom", "Cyclops Iris", "Dagger Viper Venom", "Demon Musk"],
            },
            {
                "name": "Attack Down",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": [""],
            },
            {
                "name": "Will Impairment",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Ajax's Passion", "Aquatic Finch Eggs", "Chimera Spinal Cord", "Cyclops Iris"],
            },
            {
                "name": "Fortitude Impairment",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Archane Bladder", "Blubber Bass", "Dark Fennel Seeds", "Displacer Beast Hooks", "Dolphin Kelp"],
            },
            {
                "name": "Reflex Impairment",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Bandersnatch", "Blood Ash Bark", "Blue Frilled Lizard", "Chitinous Scales", "Dragonbloom"],
            },
            {
                "name": "Good Luck",
                "lvls": {
                    1: "",
                    2: "",
                    3: "",
                    4: "",
                    5: "",
                    6: "",
                    7: "",
                    8: "",
                    9: "",
                    10: "",
                },
                "reagents": ["Ace Cloves", "Carbuncle Ore", "Crawling Vera Fungus", "Dollhouse Lizard", "Dragonbloom"],
            },
        ]

        for e in effects_seed:
            lvls = e["lvls"]
            effect, created = PotionEffect.objects.update_or_create(
                name=e["name"],
                defaults={f"lvl{i}": lvls[i] for i in range(1, 11)},
            )
            # Following one line added simply for testing purposes. It allows for blank strings in the list of related reagents until we have more data.
            reagent_names = [n for n in e["reagents"] if n]
            missing = [n for n in reagent_names if n not in reagents_by_name]
            if missing:
                raise ValueError(f"PotionEffect '{e['name']}' references missing reagents: {missing}")

            effect.reagents.set([reagents_by_name[n] for n in reagent_names])

            self.stdout.write(f"{'➕' if created else '✔️'} PotionEffect: {effect.name}")

        self.stdout.write(self.style.SUCCESS("✅ Seeding complete."))